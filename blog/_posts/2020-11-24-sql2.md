---
layout: post
title: sql 기본적인 함수

---
***참고 : 해당 글은 오라클 기준으로 작성되었음**  


># 1. 문자함수

1) initcap( ) : 첫글자만 대문자로 변환, 문자사이 공백이 있으면 공백 바로 다음 글자도 대문자 (input이 대문자로만 구성되어 있으면 첫글자 제외하고 소문자로 변환 됨)


```
SELECT initcap('abc'), initcap('abc abc')
  FROM dual;
```

| "INITCAP('ABC')" |	"INITCAP('ABCABC')" |
| --- | ----- |
| Abc |	Abc Abc |

2) 

upper( ) : 대문자 치환

lower( ) : 소문자 치환

​

3) length

length( ) : 글자의 크기 출력

lengthb( ) : 글자의 크기 출력(바이트 따라)

​

4) string

substr(원본문자열,시작위치,개수) : 시작위치에서 개수만큼 추출한다, 시작위치는 음수가 가능하다(진행방향은 무조건 좌->우), 개수는 생략가능하고 생략시 끝까지 추출한다


instr(원본문자열,찾을문자열,시작위치,발견횟수) : 원본문자열에서 특정문자의 위치값을 출력한다, 시작위치는 음수가 가능하다(진행방향도 우->좌로 바뀌지만 위치는 왼쪽에서부터 측정한다), 시작위치와 발견횟수는 생략가능하다, 찾을문자가 없으면 0으로 나타난다


​

​

5) pad

lpad(원본문자열,자리수,'삽입문자') : 원본 문자열을 입력한 bite수만큼 늘리고 비어있는 만큼 왼쪽에 삽입문자로 채운다

rpad(원본문자열,자리수,'삽입문자') : 원본 문자열을 입력한 bite수만큼 늘리고 비어있는 만큼 오른쪽에 삽입문자로 채운다


​

6) trim

ltrim(원본문자열,제거문자열) : 원본문자열에서 제거문자열의 문자를 왼쪽부터 제거한다, 다만 제거대상이 아닌 문자를 만났을 땐 실행이 중지된다, 제거문자열을 입력하지 않을경우 원본문자열의 공백을 제거한다

rtrim(원본문자열,제거문자열) : 원본문자열에서 제거문자열의 문자를 오른쪽부터 제거한다, 다만 제거대상이 아닌 문자를 만났을 땐 실행이 중지된다, 제거문자열을 입력하지 않을경우 원본문자열의 공백을 제거한다

***trim(원본문자열) : 양쪽 공백을 제거해준다


​

7) 문자 치환함수

***replace(원본문자열,찾을단어,바꿀단어) : 정확히 일치한 단어만 바꾼다, 해당 단어와 매칭되지 않으면 바꾸지 않는다, 바꿀단어에 공백을 넣으면 해당 단어를 삭제


​

***translate(원본문자열,찾을글자,매칭된바꿀글자) : 문자별로 1:1치환이므로 단어와 매칭이 되지 않아도 문자를 바꾼다.  매칭된바꿀글자에 공백을 넣을 수 없으므로 임의의 문자를 넣어 글자를 삭제한다 

ex) translate('abcda','!ac','!') => !에서 !로 바꾸는 것은 항상 참이므로 ac만 제거된다, 

매칭된바꿀글자가 찾을글자보다 많은경우 남는글자는 무시된다


[주의]

replace는 '찾을 단어'를 입력하는 것이므로 문자들의 순서가 중요하다.

transplate는 '찾을 글자'를 입력하는 것이므로 입력한 모든 글자를 찾아내서 바꾼다.

​

[참고]

함수의 결과를 like 연산자로 전달하는 방법 => | (pipe)를 사용한다
